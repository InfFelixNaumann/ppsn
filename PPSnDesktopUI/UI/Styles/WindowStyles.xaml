<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	                xmlns:ppsui="clr-namespace:TecWare.PPSn.UI">

	<SolidColorBrush x:Key="PPSnWindowBrush" Color="#EFEFF2" />
	<SolidColorBrush x:Key="PPSnWindowBorderBrush" Color="#007ACC" />
	<SolidColorBrush x:Key="PPSnWindowBorderInactiveBrush" Color="#999999" />

	<Color x:Key="PPSnWindowActiveGlowColor">#FFC15C16</Color>
	<Color x:Key="PPSnWindowInActiveGlowColor">#FFB1ACE0</Color>

	<Style x:Key="PPSnWindowButton" TargetType="{x:Type Button}">
		<Setter Property="Focusable" Value="False" />
		<Setter Property="Width" Value="34" />
		<Setter Property="Height" Value="26" />
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type Button}">
					<Grid>
						<Border x:Name="PART_border" Background="Transparent" />
						<Grid MaxHeight="10" MaxWidth="10">
							<ContentPresenter />
						</Grid>
					</Grid>
					<ControlTemplate.Triggers>
						<Trigger Property="IsMouseOver" Value="True">
							<Setter TargetName="PART_border" Property="Background" Value="#FFF" />
							<Setter TargetName="PART_border" Property="Opacity" Value="0.7" />
						</Trigger>
						<Trigger Property="IsPressed" Value="True">
							<Setter TargetName="PART_border" Property="Background" Value="{StaticResource PPSnWindowBorderBrush}"/>
							<Setter TargetName="PART_border" Property="Opacity" Value="1" />
							<Setter Property="Foreground" Value="#FFF"/>
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	<Style x:Key="PpsWindow" TargetType="{x:Type ppsui:PpsWindow}">
		<Setter Property="WindowStyle" Value="SingleBorderWindow"/>
		<Setter Property="ResizeMode" Value="CanResizeWithGrip"/>
		<!--<Setter Property="ActiveGlowColor" Value="{StaticResource PPSnWindowActiveGlowColor}"/>
		<Setter Property="InactiveGlowColor" Value="{StaticResource PPSnWindowInActiveGlowColor}"/>-->
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="{x:Type Window}">
					<Grid
						TextOptions.TextRenderingMode="ClearType"
						TextOptions.TextFormattingMode="Display"
                        Background="{StaticResource PPSnWindowBrush}"
                     
                        >
						<Grid.RowDefinitions>
							<RowDefinition Height="26" />
							<RowDefinition Height="26" />
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="*" />
							<ColumnDefinition Width="Auto" />
						</Grid.ColumnDefinitions>

						<Button Grid.Column="0"  Grid.RowSpan="2"
                            Width="52" Height="52" HorizontalAlignment="Left" VerticalAlignment="Top" Background="AliceBlue" Margin="0 0 0 0" Focusable="False">
						</Button>
						<Label x:Name="PART_Caption" Grid.Column="1"
                            Content="MainWIndow" Background="Azure" Foreground="Black"
                            VerticalAlignment="Stretch" HorizontalContentAlignment="Left"
                            VerticalContentAlignment="Center" 
                            FontSize="{DynamicResource {x:Static SystemFonts.CaptionFontSizeKey}}" FontFamily="{DynamicResource {x:Static SystemFonts.CaptionFontFamilyKey}}" Padding="16,0,0,0">
							<Label.Tag>
								<ppsui:PpsWindowHitTest HitTest="2"/>
							</Label.Tag>
						</Label>

						<ToolBar Grid.Column="1" Grid.Row="1" Grid.ColumnSpan="2"
                            Name="PPSnToolBarMain"
                            ToolBarTray.IsLocked="True"
                            Background="Red">
						</ToolBar>
						<StackPanel Grid.Column="2" Orientation="Horizontal" Margin="0 1 6 0" VerticalAlignment="Top" HorizontalAlignment="Right" Background="Aquamarine">
							<Button x:Name="PART_MinButton" Style="{StaticResource PPSnWindowButton}" Focusable ="False" Command="{x:Static ppsui:PpsWindow.MinimizeCommand}">
								<Rectangle
										Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"
										Stretch="Fill"
										RenderOptions.EdgeMode="Aliased" 
										VerticalAlignment="Bottom"
										HorizontalAlignment="Center"
										Margin="0 0 0 1"
										Width="8" 
										Height="3"/>
							</Button>
							<Button x:Name="PART_MaxButton" Style="{StaticResource PPSnWindowButton}" Focusable ="False" Command="{x:Static ppsui:PpsWindow.MaximizeCommand}">
								<Path
										x:Name="PART_MaxButtonPath"
										Fill="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"
										Stroke="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"
										StrokeThickness="1"
										StrokeMiterLimit="2.75" 
										Stretch="Fill"
										RenderOptions.EdgeMode="Aliased"
										Data="M 8.5,1.5L 0.5,1.5L 0.5,9.5L 8.5,9.5L 8.5,1.5 Z M 0.5,9.5L 0.5,3.27777L 8.5,3.27777L 8.5,9.5L 0.5,9.5 Z" />
							</Button>
							<Button x:Name="PART_CloseButton" Style="{StaticResource PPSnWindowButton}" Focusable ="False" Command="{x:Static ppsui:PpsWindow.CloseCommand}">
								<Path
										Stroke="{Binding RelativeSource={RelativeSource AncestorType=Button}, Path=Foreground}"
										StrokeThickness="1.5"
										Stretch="Fill"
										RenderOptions.EdgeMode="Aliased"
										Data="M 0.5,0.5L 9.5,9.5M 9.5,0.5L 0.5,9.5" />

							</Button>
						</StackPanel>
						<ContentPresenter/>
					</Grid>
					<ControlTemplate.Triggers>
						<Trigger Property="WindowState" Value="Maximized">
							<Setter TargetName="PART_MaxButtonPath" Property="Data" Value="M 0.5,9.5L 0.5,4.5L 0.5,9.5L 7.5,9.5L 7.5,3.5L 0.5,3.5L 0.5,4.5L 7.5,4.5L 7.5,9.5L 0.5,9.5M 3.5,1.5L 9.5,1.5L 9.5,7.5L 9.5,1.5L 3.5,1.5"/>
						</Trigger>
						<Trigger Property="IsActive" Value="False">
							<Setter TargetName="PART_Caption" Property="Foreground" Value="Gray"/>
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>



</ResourceDictionary>